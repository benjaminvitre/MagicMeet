<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MagicMeet! - Trouvez votre cr√©neau d'activit√©</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700;800&display=swap" rel="stylesheet">
</head>
<body>
    
    <header class="header">
        <a href="index.html" class="logo-link">
            <svg width="40" height="40" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M12 2C6.477 2 2 6.477 2 12s4.477 10 10 10 10-4.477 10-10S17.523 2 12 2zm-1 16h2v-2h-2v2zm0-4h2V7h-2v7z" fill="#4da6ff"/>
            </svg>
        </a>
        <h1 class="site-title">MagicMeet!</h1>
        <div class="header-right">
            <a href="index.html" class="home-link">Accueil</a>
            <a href="profile.html" id="profile-link" class="action-btn join-btn" style="display:none; width:auto; padding: 8px 12px;">Mon Profil</a>
            <button id="logout" class="action-btn leave-btn" style="display:none; width:auto; padding: 8px 12px;">D√©connexion</button>
        </div>
    </header>

    <main id="main-content">
        
        <section id="auth-section" class="auth-section" style="display: none;">
            <div class="card auth-card">
                <h2>Inscription</h2>
                <label for="pseudo">Pseudo (visible par tous)</label>
                <input type="text" id="pseudo" placeholder="Ex: JeanDuPadel" required>
                <small id="pseudo-status" style="display:block; margin-top:-10px; margin-bottom: 10px;"></small>
                
                <label for="email-signup">Email</label>
                <input type="email" id="email-signup" placeholder="email@exemple.com" required>
                
                <label for="password-signup">Mot de passe (min. 6 caract√®res)</label>
                <input type="password" id="password-signup" required>
                
                <button id="signup" class="action-btn join-btn" disabled>S'inscrire</button>
            </div>

            <div class="card auth-card">
                <h2>Connexion</h2>
                <label for="email-login">Email</label>
                <input type="email" id="email-login" placeholder="email@exemple.com" required>
                
                <label for="password-login">Mot de passe</label>
                <input type="password" id="password-login" required>
                
                <button id="login" class="action-btn join-btn">Se connecter</button>
            </div>
        </section>

        <section id="main-section" style="display: none;">

            <section class="card create-slot-box">
                <h2 id="toggle-create-form" class="toggle-header">
                    Cr√©er un cr√©neau ! üé∏ <span class="arrow">‚ñ∂</span>
                </h2>
                <form id="create-slot-form" style="display:none;">
                    <label for="form-activity-select">Activit√© principale</label>
                    <select id="form-activity-select" required></select>

                    <label for="slot-name">Nom du cr√©neau / Description rapide</label>
                    <input type="text" id="slot-name" placeholder="Ex: Padel entre amis" required>

                    <div class="inline-fields">
                        <div>
                            <label for="sub-select">Sous-activit√© (optionnel)</label>
                            <select id="sub-select"></select>
                        </div>
                        <div>
                            <label for="subsub-select">Optionnel (ex: type de jeu)</label>
                            <select id="subsub-select"></select>
                        </div>
                    </div>

                    <label for="slot-location">Lieu / Adresse</label>
                    <input type="text" id="slot-location" placeholder="Ex: 10 rue de lappe, Paris" required>
                    <div id="location-suggestion-box" class="suggestion-box" style="display: none;"></div>
                    <a id="location-link" target="_blank" style="display:none; font-size: 0.9em; margin-top: -10px; margin-bottom: 15px;">Voir sur Google Maps</a>


                    <div class="inline-fields">
                        <div>
                            <label for="slot-date">Date</label>
                            <input type="date" id="slot-date" required>
                        </div>
                        <div>
                            <label for="slot-time">Heure</label>
                            <input type="time" id="slot-time" required>
                        </div>
                    </div>
                    
                    <div class="checkbox-group">
                        <input type="checkbox" id="private-slot">
                        <label for="private-slot">Cr√©neau priv√© (participants masqu√©s)</label>
                    </div>

                    <button type="button" id="create-slot" class="action-btn join-btn">Cr√©er</button>
                </form>
            </section>

            <section class="card filter-box">
                <h2>Trouver une activit√©</h2>
                
                <p>Activit√© s√©lectionn√©e: <strong id="current-activity">Aucune</strong></p>
                <div id="activities" class="activity-buttons">
                    </div>
                
                <p class="muted-text" style="margin-top: 15px;">Filtre de sous-activit√© :</p>
                <div id="subactivities" class="activity-buttons">
                    </div>

                <div class="filter-controls">
                    <label for="city-filter-select" style="margin: 0; margin-right: 5px;">Filtrer par Ville:</label>
                    <select id="city-filter-select">
                        </select>
                </div>

            </section>
            
            <section class="card slot-list-card">
                <h2>Cr√©neaux disponibles (10 prochains)</h2>
                <ul id="slots-list">
                    </ul>
            </section>

        </section>

    </main>

    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-firestore-compat.js"></script>

    <script>
        // Remplacez les '...' par les valeurs r√©elles de votre console Firebase
        const firebaseConfig = {
          apiKey: "AIzaSyB0U_y6sMU8_vYriCK17H-Y5uPUb2ewPRw",
¬† authDomain: "magicmeet--app.firebaseapp.com",
¬† projectId: "magicmeet--app",
¬† storageBucket: "magicmeet--app.firebasestorage.app",
¬† messagingSenderId: "168285202241",
¬† appId: "1:168285202241:web:6284051ec3884cfd81a3c0"
        };

        // Initialisation de Firebase
        const app = firebase.initializeApp(firebaseConfig);
        const auth = firebase.auth();
        const db = firebase.firestore(); 
    </script>
    
    <script src="script.js"></script>

</body>
</html>
