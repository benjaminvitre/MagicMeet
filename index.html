<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MagicMeet! - Trouvez votre prochaine activit√©</title>
    <link rel="stylesheet" href="style.css"> 
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap" rel="stylesheet">
</head>
<body>

<header class="header">
    <a href="index.html" class="logo-link">
        <svg width="40" height="40" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M12 2C6.477 2 2 6.477 2 12s4.477 10 10 10 10-4.477 10-10S17.523 2 12 2zm-1 16h2v-2h-2v2zm0-4h2V7h-2v7z" fill="#4da6ff"/>
        </svg>
    </a>
    <h1 class="site-title">MagicMeet!</h1>
    <div class="header-right">
        <a href="index.html" class="home-link">Accueil</a>
        <a href="profile.html" id="profile-link" class="action-btn join-btn" style="display:none; width:auto; padding: 8px 12px;">Mon Profil</a>
        <button id="logout" class="action-btn leave-btn" style="display:none; width:auto; padding: 8px 12px;">D√©connexion</button>
    </div>
</header>

<main>

    <section id="auth-section" class="auth-section">
        <div class="auth-card card">
            <h2>Se connecter</h2>
            <form id="login-form">
                <label for="email-login">Email</label>
                <input type="email" id="email-login" required>
                
                <label for="password-login">Mot de passe</label>
                <input type="password" id="password-login" required>
                
                <div class="checkbox-group show-password-group">
                    <input type="checkbox" id="show-password-login">
                    <label for="show-password-login">Afficher le mot de passe</label>
                </div>
                
                <button type="button" id="login" class="action-btn join-btn">Connexion</button>
            </form>
        </div>

        <div class="auth-card card">
            <h2>Cr√©er un compte</h2>
            <form id="signup-form">
                <label for="pseudo">Pseudo</label>
                <input type="text" id="pseudo" required>
                <small id="pseudo-status" class="muted-text"></small>
                
                <label for="email-signup">Email</label>
                <input type="email" id="email-signup" required>
                
                <label for="password-signup">Mot de passe (6 caract√®res min)</label>
                <input type="password" id="password-signup" required>
                
                <label for="password-confirm">Confirmer mot de passe</label>
                <input type="password" id="password-confirm" required>
                <small id="password-match-status" class="muted-text"></small>
                
                <div class="checkbox-group show-password-group">
                    <input type="checkbox" id="show-password-signup">
                    <label for="show-password-signup">Afficher le mot de passe</label>
                </div>
                
                <button type="button" id="signup" class="action-btn join-btn" disabled>Inscription</button>
            </form>
        </div>
    </section>

    <section id="main-section" style="display: none;">

        <div class="create-slot-box card">
            <h2 id="toggle-create-form" class="toggle-header">Cr√©er un cr√©neau ! <span class="arrow">‚ñ∂Ô∏è</span></h2>
            
            <form id="create-slot-form" style="display: none;">
                <label for="slot-name">Nom de l'activit√©</label>
                <input type="text" id="slot-name" placeholder="Ex: Match de Padel √† Paris">
                
                <label>Activit√© (<span id="current-activity" style="font-weight: bold;">Aucune</span> s√©lectionn√©e)</label>
                <div class="inline-fields">
                    <div>
                        <select id="form-activity-select">
                            </select>
                    </div>
                    <div>
                        <select id="sub-select">
                            <option value="">-- Choisis une sous-activit√© --</option>
                        </select>
                    </div>
                    <div>
                        <select id="subsub-select">
                            <option value="">-- Optionnel --</option>
                        </select>
                    </div>
                </div>

                <label for="slot-location">Lieu / Adresse</label>
                <input type="text" id="slot-location" placeholder="Ex: 10 rue de lappe, Paris">
                <div id="location-suggestion-box" class="suggestion-box" style="display: none;"></div>
                <p id="location-link" style="display: none; font-size: 0.9em; margin-top:-10px; margin-bottom: 10px;">
                    <a href="#" target="_blank">Voir sur Google Maps</a>
                </p>

                <div class="inline-fields">
                    <div>
                        <label for="slot-date">Date</label>
                        <input type="date" id="slot-date">
                    </div>
                    <div>
                        <label for="slot-time">Heure</label>
                        <input type="time" id="slot-time">
                    </div>
                </div>

                <div class="checkbox-group">
                    <input type="checkbox" id="private-slot">
                    <label for="private-slot">Cr√©neau priv√© (participants cach√©s)</label>
                </div>

                <button type="button" id="create-slot" class="action-btn join-btn">Cr√©er</button>
            </form>
        </div>

        <div class="filter-box card">
            <h2>üîé Filtrer les cr√©neaux</h2>
            <div id="activities" class="activity-buttons">
                </div>
            
            <div id="subactivities" class="activity-buttons" style="margin-top: 5px;">
                </div>

            <div class="filter-controls">
                <label for="city-filter-select">Filtrer par ville:</label>
                <select id="city-filter-select"></select>
            </div>
        </div>

        <div class="slot-list-card card">
            <h2>üóìÔ∏è Prochains Cr√©neaux</h2>
            <ul id="slots-list">
                </ul>
        </div>
        
    </section>
</main>

<script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-auth.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-firestore.js"></script>

<script src="script.js"></script>

</body>
</html>
